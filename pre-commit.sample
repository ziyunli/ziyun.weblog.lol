#!/bin/sh
# ABOUTME: Pre-commit hook to format content files with Prettier
# ABOUTME: Only runs when there are changes in ./weblog directory

# Check if there are any staged changes in the weblog/ directory
if git diff --cached --name-only | grep -q "^weblog/"; then
    echo "Formatting files with Prettier..."
    npx prettier ./weblog --write

    # Add any formatted files back to the staging area
    git add ./weblog

    echo "Weblog files formatted and staged."
fi

exit 0
